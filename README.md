# TimeNest 课表软件

## 项目概述
TimeNest 是一款面向学校教学大屏设计的轻量化课表软件，提供灵活的课程安排管理功能。软件采用悬浮窗设计，支持临时调课、课程表管理等功能，适配Windows和Linux平台。

## 功能特点
- **悬浮窗设计**：简约现代的悬浮窗，显示时间、课程状态和天气信息
- **自动隐藏**：鼠标离开后自动渐变隐藏，保持屏幕整洁
- **拖动定位**：支持拖动调整位置，下次启动自动恢复
- **课程表管理**：可视化管理课程和课程表
- **临时调课**：快速设置单节课程临时更换
- **数据持久化**：使用JSON文件存储数据，确保数据安全
- **跨平台**：支持Windows和Linux操作系统
- **大屏适配**：自动调整界面元素大小，适配不同分辨率

## 安装指南
1. 确保已安装Python 3.8或更高版本
2. 下载或克隆本项目到本地
3. 双击 `start.bat` (Windows) 或运行 `start.sh` (Linux) 启动安装和运行程序

### 手动安装
1. 创建虚拟环境:
   ```bash
   python -m venv venv
   ```
2. 激活虚拟环境:
   - Windows:
     ```bash
     venv\Scripts\activate
     ```
   - Linux:
     ```bash
     source venv/bin/activate
     ```
3. 安装依赖:
   ```bash
   pip install -r requirements.txt
   ```
4. Linux用户需要为启动脚本添加执行权限:
   ```bash
   chmod +x start.sh
   ```
5. 启动应用:
   ```bash
   python main.py
   ```

## 使用说明
### 悬浮窗操作
- **显示/隐藏**：点击系统托盘图标可切换悬浮窗显示/隐藏
- **拖动**：鼠标左键按住悬浮窗可拖动到任意位置
- **右键菜单**：右键点击悬浮窗可打开操作菜单
- **自动隐藏**：鼠标离开悬浮窗后，5秒内自动渐变隐藏

### 课程管理
1. 通过系统托盘图标或悬浮窗右键菜单打开"课表管理"窗口
2. 在"课程管理"标签页可添加、编辑、删除课程
3. 在"课程表管理"标签页可添加、编辑、删除课程表项
4. 在"临时换课记录"标签页可查看和删除临时换课记录

### 临时调课
1. 通过系统托盘图标或悬浮窗右键菜单打开"临时调课"窗口
2. 选择日期、原课程表项和新课程
3. 点击"应用"按钮完成临时调课
4. 可选择"设为永久更换"将临时调课变为永久更改

## 配置选项
配置文件位于 `data/settings.json`，可修改以下选项：
- `window_position`: 悬浮窗位置坐标
- `auto_hide_timeout`: 自动隐藏超时时间(毫秒)
- `update_interval`: 数据更新间隔时间(毫秒)

## 项目结构
```
TimeNest/
├── data/               # 数据存储目录
│   ├── courses.json    # 课程数据
│   ├── schedules.json  # 课程表数据
│   ├── temp_changes.json  # 临时换课数据
│   └── settings.json   # 用户设置
├── data_access/        # 数据访问层
├── docs/               # 文档
├── models/             # 数据模型
├── plugins/            # 插件系统
├── res/                # 资源文件
├── services/           # 业务逻辑层
├── ui/                 # UI相关代码
├── utils/              # 工具函数
├── main.py             # 应用入口
├── requirements.txt    # 依赖列表
├── start.bat           # Windows启动脚本
├── start.sh            # Linux启动脚本
└── README.md           # 项目说明
```

## 联系方式
如有问题或建议，请联系项目维护人员。